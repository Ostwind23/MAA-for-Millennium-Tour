{
    "Startup": {
        "doc": "启动总调度节点，挂载全局 JumpBack 看门人",
        "timeout": 60000,
        "post_wait_freezes": 300,
        "next": [
            "Mainmenu1",
            "Sub_StartGame",
            "[JumpBack]GameLoading",
            "[JumpBack]ClosePage",
            "[JumpBack]BackButton",
            "[JumpBack]HomeButton",
            "[JumpBack]VictoryReturn",
            "[JumpBack]Sub_Getreward",
            "StartMillenniumTour"
        ]
    },

    "StartMillenniumTour": {
        "doc": "启动游戏，max_hit:1 避免重复拉起",
        "action": "StartApp",
        "package": "com.yingche.qnzl/com.inchigame.elf.YCActivity",
        "post_wait_freezes": 5000,
        "max_hit": 1,
        "next": [
            "Sub_StartGame",
            "Mainmenu1",
            "[JumpBack]GameLoading",
            "[JumpBack]ClosePage",
            "[JumpBack]Sub_Getreward",
            "StartGame",
            "StartMillenniumTour"
        ]
    },

    "GameLoading": {
        "doc": "识别加载中/加载转圈，等待加载完成",
        "recognition": "OCR",
        "expected": "%",
        "roi": [907, 581, 245, 124],
        "post_delay": 3000
    },

    "ClosePage": {
        "doc": "通用关闭按钮（公告/签到/详情页等）",
        "recognition": "TemplateMatch",
        "template": ["announcement.png"],
        "action": "Click",
        "post_delay": 1000
    },

    "BackButton": {
        "doc": "返回上一级按钮",
        "recognition": "TemplateMatch",
        "template": "back.png",
        "roi": [0, 0, 215, 140],
        "action": "Click",
        "post_delay": 1000
    },

    "HomeButton": {
        "doc": "返回主界面按钮（home图标）",
        "recognition": "TemplateMatch",
        "template": "home.png",
        "roi": [74, 0, 202, 140],
        "action": "Click",
        "post_delay": 2000
    },

    "VictoryReturn": {
        "doc": "战斗胜利界面，点击继续",
        "recognition": "OCR",
        "expected": "战斗胜利",
        "roi": [400, 50, 500, 150],
        "action": "Click",
        "post_delay": 1000
    },

    "Sub_StartGame": {
        "doc": "点击「进入游戏」按钮",
        "recognition": "OCR",
        "expected": ["进入游戏"],
        "action": "Click",
        "post_delay": 5000,
        "on_error": [
            "StopGame"
        ],
        "next": [
            "CloseAnnouncement",
            "Collectmonthlycard",
            "StartGame",
            "[JumpBack]GameLoading",
            "[JumpBack]ClosePage",
            "Sub_StartGame"
        ]
    },
    "StartGame": {
        "doc": "启动后的分发节点，识别主界面后处理公告/月卡并进入日常任务",
        "recognition": "TemplateMatch",
        "template": "summon.png",
        "roi": [0,524,332,197],
        "post_delay": 1500,
        "next": [
            "CloseAnnouncement",
            "Collectmonthlycard",
            "Mainmenu1",
            "[JumpBack]ClosePage",
            "[JumpBack]Sub_Getreward"
        ]
    },

    "Sub_Getreward": {
        "doc": "[复用]通用「获得物品」弹窗处理",
        "recognition": "OCR",
        "expected": ["获得物品", "获得道具"],
        "roi": [514, 141, 242, 145],
        "pre_wait_freezes": 500,
        "action": "Click",
        "target": [161, 510, 1, 1],
        "post_delay": 1000
    },

    "CloseAnnouncement": {
        "doc": "关闭公告弹窗",
        "recognition": "TemplateMatch",
        "template": ["announcement.png"],
        "roi": [900, 2, 300, 300],
        "action": "Click",
        "next": [
            "Collectmonthlycard",
            "Mainmenu1",
            "[JumpBack]ClosePage",
            "[JumpBack]Sub_Getreward"
        ]
    },

    "Collectmonthlycard": {
        "doc": "月卡领取",
        "recognition": "TemplateMatch",
        "template": "monthly card.png",
        "roi": [449, 483, 382, 146],
        "action": "Click",
        "post_delay": 1000,
        "next": [
            "[JumpBack]Sub_GetMonthlycard",
            "Mainmenu1"
        ]
    },

    "Sub_GetMonthlycard": {
        "doc": "月卡奖励确认",
        "recognition": "TemplateMatch",
        "template": "getmonthlycard.png",
        "roi": [517, 94, 246, 143],
        "action": "Click"
    },

    "Mainmenu1": {
        "doc": "主界面识别锚点（召唤按钮），进入日常任务",
        "recognition": "TemplateMatch",
        "template": "summon.png",
        "roi": [0, 530, 250, 190]
    }
}
