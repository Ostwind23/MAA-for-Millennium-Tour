{
    "$section_entry": "========== 公会任务入口 ==========",
    "$section_guild_config": "========== 公会任务配置节点 ==========",
    "Guild_BattleModeConfig": {
        "_doc": "[配置节点] 公会战斗模式配置 - 在公会首领战之前覆盖 BattleMode_Check 的参数。公会首领战默认使用自动战斗模式",
        "recognition": "DirectHit",
        "action": "Custom",
        "custom_action": "BattleModeConfigOverride",
        "custom_action_param": {
            "target_mode": "auto"
        },
        "max_hit": 1
    },
    "Task_Guild": {
        "_doc": "公会任务入口。采用JumpBack混合模式：主流程通过next链式执行，入口节点包含关键场景JumpBack用于异常恢复。顺序从高往低保证任务优先级",
        "next": [
            "[JumpBack]Guild_BattleModeConfig",
            "[JumpBack]openGuild",
            "[JumpBack]Sub_Getreward",
            "[JumpBack]Victory_Return_noNext",
            "[JumpBack]guildBossWaitBattleEnd",
            "[JumpBack]BattleMode_Check",
            "[JumpBack]guildBossLaunchBattleInTeam",
            "[JumpBack]guildBossStartBattle",
            "[JumpBack]enterGuildBoss",
            "[JumpBack]openGuildActivity",
            "[JumpBack]openMemberInfo",
            "[JumpBack]guildDonationComplete",
            "[JumpBack]guildDonationLoop",
            "[JumpBack]openGuildDonation",
            "[JumpBack]Sub_GuildReward",
            "[JumpBack]openGuildMission",
            "[JumpBack]Guild_SecondaryFallback",
            "endGuild"
        ]
    },
    "openGuild": {
        "_doc": "从主菜单开始，点击公会图标进入公会页面",
        "recognition": "TemplateMatch",
        "template": "daily/guild.png",
        "roi": [
            581,
            583,
            170,
            112
        ],
        "action": "Click",
        "post_delay": 1000,
        "next": [
            "openGuildDonation"
        ]
    },
    "$section_donation": "========== 公会捐赠模块 ==========",
    "openGuildDonation": {
        "_doc": "点击进入公会捐赠页面",
        "recognition": "TemplateMatch",
        "template": "daily/guild donation.png",
        "roi": [
            802,
            627,
            294,
            93
        ],
        "action": "Click",
        "post_delay": 1000,
        "next": [
            "guildDonationLoop",
            "guildDonationComplete"
        ]
    },
    "guildDonationLoop": {
        "_doc": "检测捐赠次数，有剩余则点击捐赠",
        "recognition": "OCR",
        "expected": [
            "3/3",
            "2/3",
            "1/3"
        ],
        "roi": [
            441,
            347,
            506,
            302
        ],
        "action": "Click",
        "target": [
            958,
            511,
            190,
            45
        ],
        "post_wait_freezes": 300,
        "next": [
            "[JumpBack]Sub_Getreward",
            "guildDonationLoop",
            "guildDonationComplete"
        ]
    },
    "guildDonationComplete": {
        "_doc": "捐赠完成（0/3），进入下一模块：成员信息",
        "recognition": "OCR",
        "expected": [
            "0/3"
        ],
        "roi": [
            569,
            481,
            196,
            130
        ],
        "next": [
            "openMemberInfo"
        ]
    },
    "$section_member_info": "========== 成员信息模块 ==========",
    "openMemberInfo": {
        "_doc": "点击进入成员信息页面",
        "recognition": "OCR",
        "expected": [
            "成员信息"
        ],
        "roi": [
            365,
            631,
            283,
            91
        ],
        "action": "Click",
        "post_delay": 1000,
        "next": [
            "[JumpBack]memberInfoRewardLoop",
            "memberInfoComplete"
        ]
    },
    "memberInfoRewardLoop": {
        "_doc": "搜索成员信息页面中的Alert图标并点击领取奖励",
        "recognition": "TemplateMatch",
        "template": "Alert.png",
        "roi": [
            1126,
            68,
            137,
            547
        ],
        "action": "Click",
        "target_offset": [
            -20,
            50,
            0,
            0
        ],
        "post_wait_freezes": 1500,
        "next": [
            "[JumpBack]Sub_Getreward",
            "Subreturn_back"
        ]
    },
    "memberInfoComplete": {
        "_doc": "成员信息页面完成，进入下一模块：公会活动",
        "recognition": "DirectHit",
        "post_delay": 2000,
        "next": [
            "openGuildActivity"
        ]
    },
    "$section_guild_activity": "========== 公会活动模块（公会首领战） ==========",
    "openGuildActivity": {
        "_doc": "点击进入公会活动页面",
        "recognition": "OCR",
        "expected": [
            "公会活动"
        ],
        "roi": [
            133,
            622,
            295,
            96
        ],
        "action": "Click",
        "post_delay": 3000,
        "next": [
            "enterGuildBoss"
        ]
    },
    "enterGuildBoss": {
        "_doc": "在公会活动页面搜索并点击公会首领",
        "recognition": "OCR",
        "expected": [
            "公会首领"
        ],
        "roi": [
            976,
            89,
            262,
            184
        ],
        "action": "Click",
        "target_offset": [
            -300,
            0,
            0,
            0
        ],
        "post_delay": 1000,
        "next": [
            "guildBossStartBattle"
        ]
    },
    "guildBossStartBattle": {
        "_doc": "点击开始战斗按钮",
        "recognition": "OCR",
        "expected": [
            "开始战斗"
        ],
        "roi": [
            439,
            582,
            386,
            128
        ],
        "action": "Click",
        "post_delay": 2000,
        "next": [
            "guildBossLaunchBattleInTeam",
            "guildCheckBossBattle"
        ]
    },
    "guildBossLaunchBattleInTeam": {
        "_doc": "在组队界面点击开始战斗，进入战斗后触发战斗模式检测",
        "recognition": "TemplateMatch",
        "template": "battle/launch battle.png",
        "roi": [
            1003,
            633,
            251,
            83
        ],
        "action": "Click",
        "post_delay": 5000,
        "next": [
            "[JumpBack]Guild_BattleModeConfig",
            "[JumpBack]BattleMode_Check",
            "guildBossWaitBattleEnd",
            "[JumpBack]Victory_Return_noNext",
            "guildBossBackToGuild"
        ]
    },
    "guildBossWaitBattleEnd": {
        "_doc": "战斗中等待结束 - 通过wait_freeze等待战斗结算",
        "recognition": "TemplateMatch",
        "template": [
            "battle/自动战斗状态.png",
            "battle/手动战斗状态.png"
        ],
        "roi": [
            901,
            0,
            378,
            263
        ],
        "post_wait_freezes": {
            "time": 5000
        },
        "rate_limit": 15000,
        "timeout": 300000,
        "next": [
            "[JumpBack]Victory_Return_noNext",
            "guildBossBackToGuild"
        ]
    },
    "guildCheckBossBattle": {
        "_doc": "检查公会首领战斗是否结束",
        "recognition": "OCR",
        "expected": [
            "0",
            "0/1"
        ],
        "roi": [
            26,
            6,
            393,
            214
        ],
        "post_delay": 1000,
        "next": [
            "guildBossBackToGuild"
        ]
    },
    "guildBossBackToGuild": {
        "_doc": "战斗完成后点击返回按钮，返回公会主页面",
        "recognition": "TemplateMatch",
        "template": "back.png",
        "roi": [
            0,
            0,
            215,
            140
        ],
        "action": "Click",
        "post_delay": 1000,
        "next": [
            "openGuildMission"
        ]
    },
    "$section_guild_mission": "========== 公会任务模块 ==========",
    "openGuildMission": {
        "_doc": "点击进入公会任务页面",
        "recognition": "OCR",
        "expected": [
            "公会任务"
        ],
        "roi": [
            597,
            607,
            270,
            111
        ],
        "action": "Click",
        "post_delay": 1000,
        "next": [
            "guildMissionRewardLoop",
            "guildMissionComplete"
        ]
    },
    "guildMissionRewardLoop": {
        "_doc": "搜索公会任务页面中的Alert图标并点击领取奖励",
        "recognition": "TemplateMatch",
        "template": "Alert.png",
        "roi": [
            444,
            27,
            831,
            111
        ],
        "action": "Click",
        "post_delay": 1000,
        "next": [
            "[JumpBack]Sub_GuildReward",
            "[JumpBack]Sub_Getreward",
            "guildMissionRewardLoop",
            "guildMissionComplete"
        ]
    },
    "Sub_GuildReward": {
        "_doc": "公会任务奖励领取子任务",
        "recognition": "TemplateMatch",
        "template": "daily/guild task.png",
        "roi": [
            925,
            102,
            319,
            156
        ],
        "action": "Click",
        "target": [
            975,
            152,
            219,
            56
        ],
        "post_delay": 4000
    },
    "guildMissionComplete": {
        "_doc": "公会任务页面完成，返回主菜单",
        "recognition": "DirectHit",
        "next": [
            "guildBackToHome"
        ]
    },
    "Guild_SecondaryFallback": {
        "_doc": "二级兜底：仅在强条件节点均匹配失败后，才允许触发弱条件返回按钮",
        "recognition": "DirectHit",
        "action": "DoNothing",
        "next": [
            "guildBossBackToGuild",
            "guildBackToHome"
        ]
    },
    "$section_end": "========== 结束模块 ==========",
    "guildBackToHome": {
        "_doc": "公会任务全部完成，返回主菜单",
        "recognition": "TemplateMatch",
        "template": "home.png",
        "roi": [
            74,
            0,
            202,
            140
        ],
        "action": "Click",
        "post_delay": 2000,
        "next": [
            "endGuild"
        ]
    },
    "endGuild": {
        "_doc": "公会任务链正式结束",
        "action": "StopTask"
    }
}